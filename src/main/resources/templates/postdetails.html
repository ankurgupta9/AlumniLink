<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Post Details</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <style>
        body {
            background-color: #f3f2ef;
        }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
		<div class="container">
			<a class="navbar-brand fw-bold text-primary" href="#">AlumniLink</a>
			<form class="d-flex m-md-0 m-1" role="search" method="post" th:action="@{/search}">
				<input class="form-control me-2" type="search" placeholder="Search" name="query" aria-label="Search">
				<button class="btn btn-outline-dark" type="submit">Search</button>
			</form>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav ms-auto">
					<li class="nav-item"><a class="nav-link" th:href="@{/home}">Home</a>
					</li>
					<li class="nav-item"><a class="nav-link" th:href="@{/profile}">Profile</a>
					</li>
					<li class="nav-item"><a class="nav-link text-danger" th:href="@{/logout}">Logout</a></li>
				</ul>
			</div>
		</div>
	</nav>

<div class="container mt-4">
    <a class="btn btn-outline-secondary my-1" th:href="@{/home}">‚Üê Back to Home</a>
    <div class="card shadow-sm p-2 mb-2">
        <img th:src="@{/images/bpic.jpg}" class="rounded-circle me-2" width="20px"><a th:href="@{/profileVisit/{id}(id=${post.user.id})}" style="text-decoration: none; color: inherit;"><h6 class="text-muted" th:text="${post.user.name}"></h6></a>
        <h3 th:text="${post.title}"></h3>
        <pre style="font-family: Arial, sans-serif;"><p th:text="${post.content}"></p></pre>
        <small class="text-muted">Posted on: <span th:text="${post.createdAt}"></span></small>
    </div>

    <form th:action="@{/comment}" method="post" class="mb-2">
        <input type="hidden" name="postId" th:value="${post.id}" />
        <div class="mb-2">
            <textarea name="content" class="form-control" rows="2" placeholder="Write a comment..."></textarea>
        </div>
        <button class="btn btn-primary">Add Comment</button>
    </form>

    <!-- Comments Section -->
    <div class=" py-5 mb-3">
        <h5 class="mb-4">Comments</h5>
        <div th:if="${#lists.isEmpty(comments)}">
            <p>No comments yet. Be the first to comment!</p>
        </div>
        <div  class="card my-2 p-2" th:each="comment : ${comments}">
            <p><strong th:text="${comment.user.name}"></strong>: 
            <span th:text="${comment.content}"></span></p>
            <small><span class="text-muted" th:text="${comment.createdAt}"></span></small>
        </div>
    </div>

    <!-- Add Comment Form -->


    
</div>
</body>
</html>
